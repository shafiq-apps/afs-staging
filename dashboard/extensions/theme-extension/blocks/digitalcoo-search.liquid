{{ 'digitalcoo-search.min.css' | asset_url | stylesheet_tag }}

{% comment %} Generate CSS Variables from Block Settings {% endcomment %}
<style>
  [data-afs-container] {
    {% comment %} Text Colors {% endcomment %}
    --afs-text-color: {{ block.settings.text_color | default: '#000000' }};
    --afs-text-color-inverse: {{ block.settings.text_color_inverse | default: '#ffffff' }};
    
    {% comment %} Background Colors {% endcomment %}
    --afs-bg-color: {{ block.settings.bg_color | default: '#ffffff' }};
    --afs-bg-color-inverse: {{ block.settings.bg_color_inverse | default: '#000000' }};
    --afs-bg-secondary: {{ block.settings.bg_secondary | default: '#f5f5f5' }};
    
    {% comment %} Border & Accent Colors {% endcomment %}
    --afs-border-color: {{ block.settings.border_color | default: '#e5e5e5' }};
    --afs-accent-color: {{ block.settings.accent_color | default: '#000000' }};
    --afs-accent-color-hover: {{ block.settings.accent_color_hover | default: '#1a1a1a' }};
    
    {% comment %} Shadow Colors {% endcomment %}
    --afs-shadow-color: {{ block.settings.shadow_color | default: 'rgba(0, 0, 0, 0.1)' }};
    --afs-shadow-color-medium: {{ block.settings.shadow_color_medium | default: 'rgba(0, 0, 0, 0.2)' }};
    --afs-shadow-color-strong: {{ block.settings.shadow_color_strong | default: 'rgba(0, 0, 0, 0.25)' }};
    
    {% comment %} Overlay Colors {% endcomment %}
    --afs-overlay-color: rgba(0, 0, 0, 0.5);
    --afs-overlay-color-strong: rgba(0, 0, 0, 0.75);
    
    {% comment %} Skeleton Loader Colors {% endcomment %}
    --afs-skeleton-color-light: #f0f0f0;
    --afs-skeleton-color-dark: #e0e0e0;
    
    {% comment %} Scrollbar Colors {% endcomment %}
    --afs-scrollbar-track: #f1f1f1;
    --afs-scrollbar-thumb: #888888;
    --afs-scrollbar-thumb-hover: #555555;
    
    {% comment %} Default Font Variables {% endcomment %}
    --afs-font-family: {{ block.settings.font_family | default: "-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" }};
    --afs-font-weight: 400;
    --afs-font-weight-bold: 600;
    --afs-font-style: normal;
  }
</style>

<div data-afs-container id="afs-container-{{ block.id }}">
  {% comment %} Container will be populated by JavaScript {% endcomment %}
</div>

<script src="{{ 'digitalcoo-search.min.js' | asset_url }}" defer></script>

{% render 'digitalcoo-search-init', block: block %}

{% schema %}
{
  "name": "Digitalcoo Search",
  "target": "body",
  "settings": [
    {
      "type": "text",
      "id": "api_base_url",
      "label": "API Base URL",
      "default": "https://fstaging.digitalcoo.com/storefront",
      "info": "The base URL for your API endpoint"
    },
    {
      "type": "checkbox",
      "id": "enable_logging",
      "label": "Enable Debug Logging",
      "default": false,
      "info": "Enable console logging for debugging"
    },
    {
      "type": "header",
      "content": "Text Colors"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "text_color_inverse",
      "label": "Text Color (Inverse)",
      "default": "#ffffff",
      "info": "Used for text on dark backgrounds"
    },
    {
      "type": "header",
      "content": "Background Colors"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "bg_color_inverse",
      "label": "Background Color (Inverse)",
      "default": "#000000",
      "info": "Used for dark backgrounds"
    },
    {
      "type": "color",
      "id": "bg_secondary",
      "label": "Secondary Background",
      "default": "#f5f5f5",
      "info": "Used for secondary backgrounds and image containers"
    },
    {
      "type": "header",
      "content": "Border & Accent Colors"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border Color",
      "default": "#e5e5e5"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent Color",
      "default": "#000000",
      "info": "Used for buttons, links, and active states"
    },
    {
      "type": "color",
      "id": "accent_color_hover",
      "label": "Accent Color (Hover)",
      "default": "#1a1a1a",
      "info": "Used for hover states on buttons and links"
    },
    {
      "type": "header",
      "content": "Shadow Colors"
    },
    {
      "type": "color_background",
      "id": "shadow_color",
      "label": "Shadow Color (Light)",
      "default": "rgba(0, 0, 0, 0.1)"
    },
    {
      "type": "color_background",
      "id": "shadow_color_medium",
      "label": "Shadow Color (Medium)",
      "default": "rgba(0, 0, 0, 0.2)"
    },
    {
      "type": "color_background",
      "id": "shadow_color_strong",
      "label": "Shadow Color (Strong)",
      "default": "rgba(0, 0, 0, 0.25)"
    },
    {
      "type": "header",
      "content": "Font Configuration"
    },
    {
      "type": "text",
      "id": "font_family",
      "label": "Font Family",
      "default": "Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif",
      "info": "CSS font-family value"
    }
  ]
}
{% endschema %}